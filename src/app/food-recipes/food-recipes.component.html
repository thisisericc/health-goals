<div class="jumbotron jumbotron-fluid">
    <figure><img src="assets/image/heart.png" width="60" height="60" class="mx-auto d-block"></figure>
    <h1 style="text-align:center" class="display-4">Health Goals</h1>
</div>

<h2> Food Recipes </h2>

<div class="Filter-Results">
    <p-card header="Filter Results" subheader="Meal Type">
        <p-checkbox name="mealtype" value="breakfast" label="Breakfast" [(ngModel)]="breakfastValue" binary="true" (onChange)="breakfastQuery($event)"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="mealtype" value="lunch" label="Lunch" [(ngModel)]="lunchValue" binary="true" (onChange)="lunchQuery($event)"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="mealtype" value="dinner" label="Dinner" [(ngModel)]="dinnerValue" binary="true" (onChange)="dinnerQuery($event)"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="mealtype" value="snack" label="Snack" [(ngModel)]="snackValue" binary="true" (onChange)="snackQuery($event)"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="mealtype" value="drink" label="Drink" [(ngModel)]="drinkValue" binary="true" (onChange)="drinkQuery($event)"></p-checkbox>
        <br/>
        <br/>

        <font color="grey"><b>Diet</b></font>
        <br/>
        <br/>
        <p-checkbox name="diet" value="balanced" label="Balanced"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="diet" value="highprotein" label="High-Protein"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="diet" value="lowfat" label="Low-fat"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="diet" value="lowcarb" label="Low-carb"></p-checkbox>
        <br/>
        <br/>

        <font color="grey"><b>Health</b></font>
        <br/>
        <br/>
        <p-checkbox name="health" value="vegan" label="Vegan"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="health" value="vegetarian" label="Vegetarian"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="health" value="sugarconscious" label="Sugar-conscious"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="health" value="peanutfree" label="Peanut-free"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="health" value="treenutfree" label="Tree-nut-free"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="health" value="alcoholfree" label="Alcohol-free"></p-checkbox>
        <br/>
        <br/>

        <font color="grey"><b>Additional</b></font>
        <br/>
        <br/>
        <p-checkbox name="additional" value="convenience" label="Convenience"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="additional" value="cost" label="Cost"></p-checkbox>
        <br/>
        <br/>
        <p-checkbox name="additional" value="ratings" label="Ratings"></p-checkbox>
    </p-card>
</div>

<div class="Search-Bar">
    <span class="ui-float-label">
        <!--<input id="float-input" type="text" size="83" [(ngModel)]="mealQuery" (keyup.enter)="recipesQuery(mealQuery)"> -->
        <p-autoComplete id="float-input" type="text" size="93" [(ngModel)]="mealQuery" (keyup.enter)="recipesQuery(mealQuery)" [(ngModel)]="text" [suggestions]="results" (completeMethod)="suggestions($event)"></p-autoComplete>
        <label *ngIf="mealQuery == null" for="float-input">Search For Recipes</label>
    </span>
</div>

<div class="Search-Button">
    <p-button label="Search" id="searchButton" (click)="recipesQuery(mealQuery)" style="display: none;"></p-button>
</div>

<div class="Search-Results">
    <!--
    <ng-container *ngIf="error == null">
        <li *ngFor="let res of searchResults">
            <br/>
            <font color="grey"><b> {{ res.recipeName }}</b></font>
            <br/>
            <a href="{{ res.articleURL }}">
                <img src="{{ res.imageURL }}">
            </a>
            <br/>
            <font color="grey"><b>Diet Labels: </b></font> {{ res.dietLabels }}
            <br/>
            <font color="grey"><b>Health Labels: </b></font> {{ res.healthLabels }}
            <br/>
            <br/>
        </li>
    </ng-container>
    <br>
    <p-toast *ngIf="error !== null" position="center">{{ error }}</p-toast>
    <br> -->

    <p-dataView [value]="searchResults" [loading]="loading" [paginator]="true" [rows]="5" paginatorPosition="both">
        <ng-template let-res pTemplate="listItem">
            <div id="Search-row" style="padding: 0.1em;border-bottom: 1px solid #d9d9d9">
                <div>
                    <div>
                        <font color="grey"><b> {{ res.recipeName }}</b></font>
                    </div>
                    <div>
                        <a href="{{ res.articleURL }}">
                            <img src="{{ res.imageURL }}" height="180" width="220">
                        </a>
                    </div>
                </div>

                <div class="Search-Row-Info">
                    <div>
                        <font size="1.6">
                            <font color="grey"><b>Calories/Serving: </b></font> {{ res.calories }} &nbsp;
                            <font color="grey"><b>Daily %: </b></font> {{ res.totalDaily }} &nbsp;
                            <font color="grey"><b>Servings: </b></font> {{ res.servings }}

                        </font>
                    </div>
                    <div>
                        <font size="1.6">
                            <font color="grey"><b>Diet Labels: </b></font> {{ res.dietLabels }}
                        </font>
                    </div>
                    <div>
                        <font size="1.6">
                            <font color="grey"><b>Health Labels: </b></font> {{ res.healthLabels }}
                        </font>
                    </div>
                    <div>
                        <font size="1.6">
                            <font color="grey"><b>Ingredients: </b></font> {{ res.ingredients }}
                        </font>
                    </div>
                </div>
            </div>
        </ng-template>
    </p-dataView>
</div>

<div class="Trending-Recipes">
    <p-card header="Trending Recipes">
        <li *ngFor="let res of searchResults | slice:0:10; let i=index">
            <div>
                <a href="{{ res.articleURL }}">
                    <b>{{ i+1 }}. {{ res.recipeName }}</b>
                </a>
            </div>
            <br/>
        </li>
    </p-card>
</div>